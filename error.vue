<template>
  <div class="__nuxt-error-page">
    <div class="error">
      <svg width="216" height="147" viewBox="0 0 216 147" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M211.525 72.5195C189.897 116.15 232.069 128.881 155.289 139.581C78.5093 150.281 117.439 122.613 29.8437 112.514C-57.7519 102.415 70.3985 -26.8609 121.225 5.05402C172.051 36.9689 233.152 28.8892 211.525 72.5195Z"
          fill="url(#paint0_linear)"
        />
        <g filter="url(#filter0_f)">
          <path d="M117 114H196L142 134H53L117 114Z" fill="url(#paint1_linear)" />
        </g>
        <rect x="60" y="34" width="4" height="97" rx="2" fill="url(#paint2_linear)" />
        <rect x="131" y="34" width="4" height="97" rx="2" fill="url(#paint3_linear)" />
        <path
          d="M124 133C124 130.239 126.239 128 129 128H137C139.761 128 142 130.239 142 133V134H124V133Z"
          fill="url(#paint4_linear)"
        />
        <path
          d="M53 133C53 130.239 55.2386 128 58 128H66C68.7614 128 71 130.239 71 133V134H53V133Z"
          fill="url(#paint5_linear)"
        />
        <rect x="33" y="56" width="130" height="48" rx="2" fill="url(#paint6_linear)" />
        <g filter="url(#filter1_d)">
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M85.0046 92C83.2319 92 82.129 90.075 83.0255 88.5457L96.0214 66.3761C96.9077 64.8642 99.0934 64.8642 99.9797 66.3761L112.976 88.5457C113.872 90.075 112.769 92 110.996 92H85.0046ZM85.0046 89.7058L98.0006 67.5363L110.996 89.7058H85.0046ZM98.5324 83.5444C98.653 83.4439 98.7345 83.3043 98.7628 83.1499L99.2028 77.21C99.2136 77.0575 99.1933 76.9044 99.1433 76.76C99.0932 76.6156 99.0144 76.4828 98.9116 76.3697C98.8088 76.2566 98.6841 76.1655 98.5451 76.102C98.4061 76.0384 98.2556 76.0037 98.1028 76C97.8113 76.0006 97.5319 76.1167 97.3257 76.3228C97.1195 76.529 97.0035 76.8084 97.0028 77.1L97.4428 83.1499C97.4711 83.3043 97.5527 83.4439 97.6733 83.5444C97.7939 83.6449 97.9459 83.6999 98.1028 83.6999C98.2598 83.6999 98.4118 83.6449 98.5324 83.5444ZM98.714 84.9853C98.5331 84.8644 98.3204 84.7999 98.1028 84.7999C97.9561 84.791 97.8091 84.8134 97.6716 84.8655C97.5341 84.9177 97.4093 84.9984 97.3053 85.1024C97.2014 85.2063 97.1206 85.3312 97.0685 85.4687C97.0163 85.6061 96.994 85.7531 97.0028 85.8999C97.0028 86.1174 97.0674 86.3301 97.1882 86.511C97.3091 86.6919 97.4809 86.8329 97.6819 86.9161C97.8829 86.9994 98.1041 87.0212 98.3174 86.9787C98.5308 86.9363 98.7268 86.8315 98.8806 86.6777C99.0345 86.5239 99.1392 86.3279 99.1817 86.1145C99.2241 85.9011 99.2023 85.6799 99.1191 85.4789C99.0358 85.2779 98.8948 85.1061 98.714 84.9853Z"
            fill="white"
            fill-opacity="0.9"
          />
        </g>
        <g clip-path="url(#clip0)">
          <rect x="33" y="106" width="130" height="10" rx="2" fill="url(#paint7_linear)" />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M42.4106 102L45.8164 104.098L33.4058 124.247L30 122.149L42.4106 102ZM52.0004 102L55.4062 104.098L42.9957 124.247L39.5898 122.149L52.0004 102ZM65.4062 104.098L62.0004 102L49.5898 122.149L52.9957 124.247L65.4062 104.098ZM72.0004 102L75.4062 104.098L62.9957 124.247L59.5898 122.149L72.0004 102ZM85.4062 104.098L82.0004 102L69.5898 122.149L72.9957 124.247L85.4062 104.098ZM92.0004 102L95.4062 104.098L82.9957 124.247L79.5898 122.149L92.0004 102ZM105.406 104.098L102 102L89.5898 122.149L92.9957 124.247L105.406 104.098ZM112 102L115.406 104.098L102.996 124.247L99.5898 122.149L112 102ZM125.406 104.098L122 102L109.59 122.149L112.996 124.247L125.406 104.098ZM132 102L135.406 104.098L122.996 124.247L119.59 122.149L132 102ZM145.406 104.098L142 102L129.59 122.149L132.996 124.247L145.406 104.098ZM152 102L155.406 104.098L142.996 124.247L139.59 122.149L152 102ZM165.406 104.098L162 102L149.59 122.149L152.996 124.247L165.406 104.098Z"
            fill="white"
            fill-opacity="0.2"
          />
        </g>
        <g clip-path="url(#clip1)">
          <rect x="33" y="44" width="130" height="10" rx="2" fill="url(#paint8_linear)" />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M42.4106 40L45.8164 42.0977L33.4058 62.2472L30 60.1495L42.4106 40ZM52.0004 40L55.4062 42.0977L42.9957 62.2472L39.5898 60.1495L52.0004 40ZM65.4062 42.0977L62.0004 40L49.5898 60.1495L52.9957 62.2472L65.4062 42.0977ZM72.0004 40L75.4062 42.0977L62.9957 62.2472L59.5898 60.1495L72.0004 40ZM85.4062 42.0977L82.0004 40L69.5898 60.1495L72.9957 62.2472L85.4062 42.0977ZM92.0004 40L95.4062 42.0977L82.9957 62.2472L79.5898 60.1495L92.0004 40ZM105.406 42.0977L102 40L89.5898 60.1495L92.9957 62.2472L105.406 42.0977ZM112 40L115.406 42.0977L102.996 62.2472L99.5898 60.1495L112 40ZM125.406 42.0977L122 40L109.59 60.1495L112.996 62.2472L125.406 42.0977ZM132 40L135.406 42.0977L122.996 62.2472L119.59 60.1495L132 40ZM145.406 42.0977L142 40L129.59 60.1495L132.996 62.2472L145.406 42.0977ZM152 40L155.406 42.0977L142.996 62.2472L139.59 60.1495L152 40ZM165.406 42.0977L162 40L149.59 60.1495L152.996 62.2472L165.406 42.0977Z"
            fill="white"
            fill-opacity="0.2"
          />
        </g>
        <defs>
          <filter
            id="filter0_f"
            x="40"
            y="101"
            width="169"
            height="46"
            filterUnits="userSpaceOnUse"
            color-interpolation-filters="sRGB"
          >
            <feFlood flood-opacity="0" result="BackgroundImageFix" />
            <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape" />
            <feGaussianBlur stdDeviation="6.5" result="effect1_foregroundBlur" />
          </filter>
          <filter
            id="filter1_d"
            x="77.707"
            y="63.2422"
            width="40.587"
            height="36.7578"
            filterUnits="userSpaceOnUse"
            color-interpolation-filters="sRGB"
          >
            <feFlood flood-opacity="0" result="BackgroundImageFix" />
            <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" />
            <feOffset dy="3" />
            <feGaussianBlur stdDeviation="2.5" />
            <feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 0.781667 0 0 0 0 0.454167 0 0 0 1 0" />
            <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow" />
            <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape" />
          </filter>
          <linearGradient
            id="paint0_linear"
            x1="101.618"
            y1="-6.32413e-08"
            x2="105.204"
            y2="142.071"
            gradientUnits="userSpaceOnUse"
          >
            <stop stop-color="#FFEDD1" />
            <stop offset="1" stop-color="#FFFAF3" stop-opacity="0.4" />
          </linearGradient>
          <linearGradient id="paint1_linear" x1="124.5" y1="114" x2="124.5" y2="134" gradientUnits="userSpaceOnUse">
            <stop stop-color="#FFEFD7" />
            <stop offset="1" stop-color="#FFD18C" />
          </linearGradient>
          <linearGradient id="paint2_linear" x1="62" y1="34" x2="62" y2="131" gradientUnits="userSpaceOnUse">
            <stop stop-color="#FFE5BD" />
            <stop offset="1" stop-color="#FFC369" />
            <stop offset="1" stop-color="#FFC369" />
          </linearGradient>
          <linearGradient id="paint3_linear" x1="133" y1="34" x2="133" y2="131" gradientUnits="userSpaceOnUse">
            <stop stop-color="#FFE5BD" />
            <stop offset="1" stop-color="#FFC369" />
            <stop offset="1" stop-color="#FFC369" />
          </linearGradient>
          <linearGradient id="paint4_linear" x1="133" y1="128" x2="133" y2="134" gradientUnits="userSpaceOnUse">
            <stop stop-color="#FFEFD7" />
            <stop offset="1" stop-color="#FFD18C" />
          </linearGradient>
          <linearGradient id="paint5_linear" x1="62" y1="128" x2="62" y2="134" gradientUnits="userSpaceOnUse">
            <stop stop-color="#FFEFD7" />
            <stop offset="1" stop-color="#FFD18C" />
          </linearGradient>
          <linearGradient id="paint6_linear" x1="98" y1="56" x2="98" y2="104" gradientUnits="userSpaceOnUse">
            <stop stop-color="#FFEFD7" />
            <stop offset="1" stop-color="#FFD18C" />
          </linearGradient>
          <linearGradient id="paint7_linear" x1="98" y1="106" x2="98" y2="116" gradientUnits="userSpaceOnUse">
            <stop stop-color="#FFEFD7" />
            <stop offset="1" stop-color="#FFD18C" />
          </linearGradient>
          <linearGradient id="paint8_linear" x1="98" y1="44" x2="98" y2="54" gradientUnits="userSpaceOnUse">
            <stop stop-color="#FFEFD7" />
            <stop offset="1" stop-color="#FFD18C" />
          </linearGradient>
          <clipPath id="clip0">
            <rect x="33" y="106" width="130" height="10" rx="2" fill="white" />
          </clipPath>
          <clipPath id="clip1">
            <rect x="33" y="44" width="130" height="10" rx="2" fill="white" />
          </clipPath>
        </defs>
      </svg>
      <div class="title">{{ props.error.statusCode }}</div>
      <div class="description">{{ props.error.message }}</div>
      <div class="action-group">
        <div v-if="showHomeBtn" class="home-btn" @click="goHome()">返回首页</div>
        <div v-if="showRetryBtn" class="retry-btn" @click="retry()">刷新重试</div>
      </div>
    </div>
  </div>
</template>
<script setup>
const props = defineProps({
  error: Object,
})

const showHomeBtn = computed(() => {
  let res = true
  if (props.error.data?.showHomeBtn === false) {
    res = false
  }
  return res
})
const showRetryBtn = computed(() => {
  let res = true
  if (props.error.data?.showRetryBtn === false) {
    res = false
  }
  return res
})
const goHome = () => {
  clearError({ redirect: '/' })
}
const retry = () => {
  window.location.reload(true)
}
</script>
<style lang="less" scoped>
.__nuxt-error-page {
  padding: 50px 30px;
  background: #f7f8fb;
  color: #47494e;
  text-align: center;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-pack: center;
  -ms-flex-pack: center;
  justify-content: center;
  -webkit-box-align: center;
  -ms-flex-align: center;
  align-items: center;
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
  -ms-flex-direction: column;
  flex-direction: column;
  font-family: sans-serif;
  font-weight: 100 !important;
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  -webkit-font-smoothing: antialiased;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
}
.__nuxt-error-page .error {
  svg {
    display: block;
    margin: 0 auto;
  }
}

.__nuxt-error-page .title {
  font-size: 24px;
  margin-top: 15px;
  color: #47494e;
  margin-bottom: 8px;
}

.__nuxt-error-page .description {
  color: #7f828b;
  line-height: 21px;
  margin-bottom: 10px;
  word-break: break-word;
}

.__nuxt-error-page a {
  color: #7f828b !important;
  text-decoration: none;
}

.__nuxt-error-page .logo {
  position: fixed;
  left: 12px;
  bottom: 12px;
}

.action-group {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-pack: center;
  -ms-flex-pack: center;
  justify-content: center;
  -webkit-box-align: center;
  -ms-flex-align: center;
  align-items: center;
  padding: 10px;
}
.home-btn,
.retry-btn {
  width: 100px;
  height: 30px;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-pack: center;
  -ms-flex-pack: center;
  justify-content: center;
  -webkit-box-align: center;
  -ms-flex-align: center;
  align-items: center;
  border-radius: 18px;
  font-size: 14px;
  margin: 0 8px;
}
.home-btn {
  background: #eee;
  color: #333;
}
.retry-btn {
  background: linear-gradient(267.41deg, #fb4330 0%, #fb8d30 97.5%);
  color: #fff;
}
</style>
